{% import 'admin/template_responsive_table_users.html' as users_templates with context %}
{% extends "main.html" %}
{% block title %}Users management{% endblock %}
{% block content %}
<h2>Status</h2>
<ul class="list-group">
  <li class="list-group-item">Number of users: {{ total_nb_users }}</li>
  <li class="list-group-item">Two-Factor Authentication: {% if config["ENFORCE_2FA"] %}Enforced{% else %}Not enforced{% endif %}</li>
  <li class="list-group-item">Not using Two-Factor Authentication: {{ nb_users_without_2fa }}</li>
</ul>
<br />
<h2>Administrators</h2>
{{ users_templates.table_users(users=admins) }}
<div class="row">
    <div class="col">
        {{ pagination_admin.links }}
    </div>
</div>
<div class="row">
    <div class="col">
        {{ pagination_admin.info }}
    </div>
</div>
<br />
<h2>Users</h2>
{{ users_templates.table_users(users=users) }}
<div class="row">
    <div class="col">
        {{ pagination.links }}
    </div>
</div>
<div class="row">
    <div class="col">
        {{ pagination.info }}
    </div>
</div>
<br />
<p>Removing a user will not impact any of the contributions they have previously made.</p>
<a class="btn btn-primary" href="{{ url_for('admin_bp.form_user') }}">Create a new user</a>
<br /><br />
{% endblock %}
